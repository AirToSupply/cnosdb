# CnoseDB-Next
    用rust实现时序数据库

# 关于性能剖析工具
a. 要发现程序中真正存在的性能瓶颈。而不是你自以为的想象中的性能瓶颈。如果不遵守这点，就会导致过早优化或过度优化。
b. 常见的性能瓶颈一般都是两类，CPU和I/O。所以工具也基本面向这两类。

使用goose这样的压测工具进行一次负载测试

On-CPU
	使用Perf寻找热点
	使用火焰图工具,可能反映出性能瓶颈在于：
		1.Clone过多。
		2.序列化bson耗费更多时间。
	可以使用Valgrind工具来检查程序是否存在内存泄漏，或者在关键的调用路径上存在不必要的内存分配。不仅仅要考察堆分配，也需要考虑栈上的分配，特别是异步操作时。
Off-CPU
	可能存在的性能缺陷，在I/O、锁、计时器、分页/交换等被阻塞的同时等待的时间。
